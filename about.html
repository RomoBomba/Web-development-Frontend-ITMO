<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="–æ –º–∞–≥–∞–∑–∏–Ω–µ MusicStore, –∏—Å—Ç–æ—Ä–∏—è, –∫–æ–º–∞–Ω–¥–∞, –æ—Ç–∑—ã–≤—ã">
    <meta name="description" content="–û –º–∞–≥–∞–∑–∏–Ω–µ MusicStore - –Ω–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è, –∫–æ–º–∞–Ω–¥–∞ –∏ —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è. –ë–æ–ª–µ–µ 10 –ª–µ—Ç –Ω–∞ —Ä—ã–Ω–∫–µ –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤">
    <title>MusicStore - –û –Ω–∞—Å</title>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="js/main.js" defer></script>
    <script src="js/api.js" defer></script>
</head>
<body class="page">
<header class="header">
    <div class="container">
        <h1 class="header__title">MusicStore</h1>
        <nav class="nav">
            <ul class="nav__list">
                <li class="nav__item"><a href="index.html" class="nav__link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li class="nav__item"><a href="catalog.html" class="nav__link">–ö–∞—Ç–∞–ª–æ–≥</a></li>
                <li class="nav__item"><a href="about.html" class="nav__link">–û –Ω–∞—Å</a></li>
                <li class="nav__item"><a href="credit.html" class="nav__link">–ö—Ä–µ–¥–∏—Ç</a></li>
                <li class="nav__item"><a href="cart.html" class="nav__link">–ö–æ—Ä–∑–∏–Ω–∞</a></li>
            </ul>
        </nav>
    </div>
</header>

<main class="main">
    <section class="hero">
        <div class="container">
            <h2 class="hero__title">–û –º–∞–≥–∞–∑–∏–Ω–µ MusicStore</h2>
            <p class="hero__text">–ë–æ–ª–µ–µ 10 –ª–µ—Ç –º—ã –ø–æ–º–æ–≥–∞–µ–º –º—É–∑—ã–∫–∞–Ω—Ç–∞–º –Ω–∞—Ö–æ–¥–∏—Ç—å —Å–≤–æ–π –∏–¥–µ–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç</p>
        </div>
    </section>

    <section class="about-history">
        <div class="container">
            <div class="history-content">
                <h2 class="section-title">–ù–∞—à–∞ –∏—Å—Ç–æ—Ä–∏—è</h2>
                <div class="history-text">
                    <p>MusicStore –±—ã–ª –æ—Å–Ω–æ–≤–∞–Ω –≤ 2013 –≥–æ–¥—É –≥—Ä—É–ø–ø–æ–π —ç–Ω—Ç—É–∑–∏–∞—Å—Ç–æ–≤-–º—É–∑—ã–∫–∞–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —É—Å—Ç–∞–ª–∏ –æ—Ç –±–µ–∑–ª–∏–∫–∏—Ö –º—É–∑—ã–∫–∞–ª—å–Ω—ã—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤. –ú—ã –≤–µ—Ä–∏–ª–∏, —á—Ç–æ –ø–æ–∫—É–ø–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–∏–º –æ–ø—ã—Ç–æ–º, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–µ–π.</p>

                    <p>–ù–∞—á–∏–Ω–∞—è —Å –Ω–µ–±–æ–ª—å—à–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞ –≤ —Ü–µ–Ω—Ç—Ä–µ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–∞, –º—ã –≤—ã—Ä–æ—Å–ª–∏ –≤ –æ–¥–∏–Ω –∏–∑ –∫—Ä—É–ø–Ω–µ–π—à–∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥–∏—Ç–∞—Ä–Ω—ã—Ö —Ü–µ–Ω—Ç—Ä–æ–≤ –†–æ—Å—Å–∏–∏. –ó–∞ —ç—Ç–∏ –≥–æ–¥—ã –º—ã –ø–æ–º–æ–≥–ª–∏ –±–æ–ª–µ–µ —á–µ–º 15,000 –º—É–∑—ã–∫–∞–Ω—Ç–æ–≤ –Ω–∞–π—Ç–∏ —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∑–≤—É–∫.</p>
                </div>

                <div class="milestones">
                    <div class="milestone">
                        <h3>2013</h3>
                        <p>–û—Ç–∫—Ä—ã—Ç–∏–µ –ø–µ—Ä–≤–æ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞</p>
                    </div>
                    <div class="milestone">
                        <h3>2016</h3>
                        <p>–ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞</p>
                    </div>
                    <div class="milestone">
                        <h3>2019</h3>
                        <p>–û—Ç–∫—Ä—ã—Ç–∏–µ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ —Ü–µ–Ω—Ç—Ä–∞</p>
                    </div>
                    <div class="milestone">
                        <h3>2023</h3>
                        <p>–ë–æ–ª–µ–µ 15,000 –¥–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</p>
                    </div>
                </div>

                <div class="history-image">
                    <img src="images/shop/shop2.png" alt="–ò–Ω—Ç–µ—Ä—å–µ—Ä –º–∞–≥–∞–∑–∏–Ω–∞" class="about-image">
                    <p class="image-caption">–ù–∞—à –≥–ª–∞–≤–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω –≤ –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥–µ</p>
                </div>
            </div>
        </div>
    </section>

    <section class="team-section">
        <div class="container">
            <h2 class="section-title">–ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞</h2>
            <div class="team-grid">
                <div class="team-member">
                    <img src="images/shop/team-alexei.png" alt="–ê–ª–µ–∫—Å–µ–π –ü–µ—Ç—Ä–æ–≤" class="team-photo">
                    <h3>–ê–ª–µ–∫—Å–µ–π –ü–µ—Ç—Ä–æ–≤</h3>
                    <p class="team-role">–û—Å–Ω–æ–≤–∞—Ç–µ–ª—å, –≥–∏—Ç–∞—Ä–Ω—ã–π –º–∞—Å—Ç–µ—Ä</p>
                    <p>–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã —Å –≥–∏—Ç–∞—Ä–∞–º–∏ –±–æ–ª–µ–µ 20 –ª–µ—Ç. –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ä–µ–º–æ–Ω—Ç–µ –∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —ç–ª–µ–∫—Ç—Ä–æ–≥–∏—Ç–∞—Ä.</p>
                </div>

                <div class="team-member">
                    <img src="images/shop/team-maria.png" alt="–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–∞" class="team-photo">
                    <h3>–ú–∞—Ä–∏—è –ò–≤–∞–Ω–æ–≤–∞</h3>
                    <p class="team-role">–ú–µ–Ω–µ–¥–∂–µ—Ä –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º</p>
                    <p>–ü–æ–º–æ–∂–µ—Ç –ø–æ–¥–æ–±—Ä–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ–¥ –≤–∞—à —Å—Ç–∏–ª—å –∏ –±—é–¥–∂–µ—Ç. –°–∞–º–∞ –∏–≥—Ä–∞–µ—Ç –Ω–∞ –±–∞—Å-–≥–∏—Ç–∞—Ä–µ.</p>
                </div>

                <div class="team-member">
                    <img src="images/shop/team-dmitry.png" alt="–î–º–∏—Ç—Ä–∏–π –°–∏–¥–æ—Ä–æ–≤" class="team-photo">
                    <h3>–î–º–∏—Ç—Ä–∏–π –°–∏–¥–æ—Ä–æ–≤</h3>
                    <p class="team-role">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç</p>
                    <p>–ó–∞–Ω–∏–º–∞–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –∏ –ø—Ä–µ–¥–ø—Ä–æ–¥–∞–∂–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–æ–π –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. –ü–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏—Å—Ç –≤ –∑–≤—É–∫–µ.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="values-section">
        <div class="container">
            <h2 class="section-title">–ù–∞—à–∏ —Ü–µ–Ω–Ω–æ—Å—Ç–∏</h2>
            <div class="values-grid">
                <div class="value-card">
                    <h3>üéµ –ö–∞—á–µ—Å—Ç–≤–æ</h3>
                    <p>–ú—ã —Ç—â–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–±–∏—Ä–∞–µ–º –∫–∞–∂–¥—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏ –¥–∞–µ–º –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –≥–∞—Ä–∞–Ω—Ç–∏—é 2 –≥–æ–¥–∞</p>
                </div>
                <div class="value-card">
                    <h3>ü§ù –ß–µ—Å—Ç–Ω–æ—Å—Ç—å</h3>
                    <p>–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —Ü–µ–Ω—ã, —á–µ—Å—Ç–Ω—ã–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –∏ –Ω–∏–∫–∞–∫–∏—Ö —Å–∫—Ä—ã—Ç—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π</p>
                </div>
                <div class="value-card">
                    <h3>üé∏ –≠–∫—Å–ø–µ—Ä—Ç–∏–∑–∞</h3>
                    <p>–ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ - –ø—Ä–∞–∫—Ç–∏–∫—É—é—â–∏–µ –º—É–∑—ã–∫–∞–Ω—Ç—ã —Å –º–Ω–æ–≥–æ–ª–µ—Ç–Ω–∏–º –æ–ø—ã—Ç–æ–º</p>
                </div>
                <div class="value-card">
                    <h3>‚ù§Ô∏è –õ—é–±–æ–≤—å –∫ –º—É–∑—ã–∫–µ</h3>
                    <p>–ú—ã –Ω–µ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–¥–∞–µ–º –≥–∏—Ç–∞—Ä—ã - –º—ã –ø–æ–º–æ–≥–∞–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –º—É–∑—ã–∫—É</p>
                </div>
            </div>
        </div>
    </section>

    <section class="api-testimonials">
        <div class="container">
            <h2 class="section-title">–û—Ç–∑—ã–≤—ã –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å–æ –≤—Å–µ–≥–æ –º–∏—Ä–∞</h2>
            <p class="section-subtitle">–†–µ–∞–ª—å–Ω—ã–µ –º–Ω–µ–Ω–∏—è, –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ API</p>

            <div class="reviews-controls">
                <button class="button button--primary" id="loadReviewsBtn">
                    <span class="btn-text">–ó–∞–≥—Ä—É–∑–∏—Ç—å –æ—Ç–∑—ã–≤—ã</span>
                    <span class="btn-loader" style="display: none;">‚åõ</span>
                </button>

                <div class="filter-controls">
                    <select id="reviewFilter" class="filter-select">
                        <option value="all">–í—Å–µ –æ—Ç–∑—ã–≤—ã</option>
                        <option value="guitar">–û –≥–∏—Ç–∞—Ä–∞—Ö</option>
                        <option value="service">–û–± —É—Å–ª—É–≥–∞—Ö</option>
                        <option value="delivery">–û –¥–æ—Å—Ç–∞–≤–∫–µ</option>
                    </select>

                    <select id="reviewSort" class="filter-select">
                        <option value="newest">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                        <option value="oldest">–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ</option>
                        <option value="rating">–ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É</option>
                    </select>
                </div>
            </div>

            <div class="preloader-container" id="preloaderContainer" style="display: none;">
                <div class="preloader">
                    <div class="preloader__spinner"></div>
                    <p class="preloader__text">–ó–∞–≥—Ä—É–∂–∞–µ–º –æ—Ç–∑—ã–≤—ã...</p>
                </div>
            </div>

            <div class="error-container" id="errorContainer" style="display: none;">
                <div class="error-message">
                    <span class="error-icon">‚ö†Ô∏è</span>
                    <h3 class="error-title" id="errorTitle"></h3>
                    <p class="error-text" id="errorText"></p>
                    <button class="button button--secondary" id="retryBtn">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                </div>
            </div>

            <div class="reviews-container" id="reviewsContainer">
                <p class="no-reviews">–ù–∞–∂–º–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –æ—Ç–∑—ã–≤—ã", —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –º–Ω–µ–Ω–∏—è –Ω–∞—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</p>
            </div>

            <template id="reviewTemplate">
                <article class="review-card">
                    <div class="review-card__header">
                        <div class="review-card__user">
                            <div class="review-card__avatar">
                                <img src="" alt="–ê–≤–∞—Ç–∞—Ä" class="review-card__avatar-img">
                            </div>
                            <div class="review-card__user-info">
                                <h3 class="review-card__username"></h3>
                                <span class="review-card__date"></span>
                            </div>
                        </div>
                        <div class="review-card__rating">
                            <span class="rating-stars"></span>
                            <span class="review-card__category"></span>
                        </div>
                    </div>
                    <div class="review-card__content">
                        <h4 class="review-card__title"></h4>
                        <p class="review-card__text"></p>
                    </div>
                    <div class="review-card__footer">
                        <span class="review-card__instrument"></span>
                        <button class="review-card__like-btn">‚ù§Ô∏è <span class="like-count">0</span></button>
                    </div>
                </article>
            </template>
        </div>
    </section>
</main>

<footer class="footer">
    <div class="container">
        <h2 class="footer__title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
        <address class="footer__address">
            <p class="footer__text">–≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, —É–ª. –ü—É—à–∫–∏–Ω–∞, –¥. 15</p>
            <p class="footer__text">–¢–µ–ª–µ—Ñ–æ–Ω: <a href="tel:+74951234567" class="footer__link">+7 (495) 123-45-67</a></p>
            <p class="footer__text">Email: <a href="mailto:info@musicstore.ru" class="footer__link">info@musicstore.ru</a></p>
        </address>

        <pre class="ascii-art">
                              ,
                          ,   |
       _,,._              |  0'
     ,'     `.__,--.     0'
    /   .--.        |           ,,,
    | [=========|==|==|=|==|=|==___]
    \   "--"  __    |           '''
     `._   _,'  `--'
        ""'     ,   ,0     ,
    hjm         |)  |)   ,'|
      ____     0'   '   | 0'
      |  |             0'
     0' 0'
            </pre>

        <p class="footer__copyright">&copy; 2025 MusicStore. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </div>
</footer>

<script>
    const API_BASE_URL = 'https://jsonplaceholder.typicode.com';

    const loadReviewsBtn = document.getElementById('loadReviewsBtn');
    const reviewsContainer = document.getElementById('reviewsContainer');
    const preloaderContainer = document.getElementById('preloaderContainer');
    const errorContainer = document.getElementById('errorContainer');
    const errorTitle = document.getElementById('errorTitle');
    const errorText = document.getElementById('errorText');
    const retryBtn = document.getElementById('retryBtn');
    const reviewFilter = document.getElementById('reviewFilter');
    const reviewSort = document.getElementById('reviewSort');

    document.addEventListener('DOMContentLoaded', function() {
        loadReviewsBtn.addEventListener('click', loadReviews);
        retryBtn.addEventListener('click', loadReviews);
        reviewFilter.addEventListener('change', filterReviews);
        reviewSort.addEventListener('change', filterReviews);
    });

    async function loadReviews() {
        try {
            showPreloader();
            hideError();
            clearReviews();
            const posts = await fetchRandomPosts();
            const users = await fetchUsers(posts);
            displayReviews(posts, users);
        } catch (error) {
            handleError(error);
        } finally {
            hidePreloader();
        }
    }

    async function fetchRandomPosts() {
        const randomParams = getRandomFilterParams();
        const url = `${API_BASE_URL}/posts?${randomParams}`;
        console.log('–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –ø–æ—Å—Ç—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:', randomParams);
        const response = await fetch(url);
        if (!response.ok) {
            throw new Error(`–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞: ${response.status}`);
        }
        return await response.json();
    }

    async function fetchUsers(posts) {
        const userIds = [...new Set(posts.map(post => post.userId))];
        const users = [];

        for (const userId of userIds.slice(0, 5)) {
            try {
                const response = await fetch(`${API_BASE_URL}/users/${userId}`);
                if (response.ok) {
                    const user = await response.json();
                    users.push(user);
                }
            } catch (error) {
                console.warn(`–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ${userId}:`, error);
            }
        }

        return users;
    }

    function displayReviews(posts, users) {
        const reviewTemplate = document.getElementById('reviewTemplate');
        reviewsContainer.innerHTML = '';
        posts.slice(0, 6).forEach((post, index) => {
            const user = users.find(u => u.id === post.userId) || users[0] || createMockUser(post.userId);
            const reviewClone = document.importNode(reviewTemplate.content, true);
            fillReviewData(reviewClone, post, user, index);
            reviewsContainer.appendChild(reviewClone);
        });

        filterReviews();
        addLikeHandlers();
    }

    function fillReviewData(reviewElement, post, user, index) {
        const categories = ['guitar', 'service', 'delivery'];
        const instruments = ['Fender Stratocaster', 'Gibson Les Paul', 'Yamaha Acoustic', 'Ibanez RG', 'Epiphone ES-335', 'Bass Guitar'];
        const category = categories[Math.floor(Math.random() * categories.length)];
        const rating = Math.floor(Math.random() * 5) + 1;
        const instrument = instruments[Math.floor(Math.random() * instruments.length)];
        const likes = Math.floor(Math.random() * 50);
        const daysAgo = Math.floor(Math.random() * 30) + 1;

        const avatarUrl = `https://i.pravatar.cc/150?img=${(user.id || index) % 70}`;
        const elements = {
            '.review-card__avatar-img': { src: avatarUrl },
            '.review-card__username': { textContent: user.name || `–ö–ª–∏–µ–Ω—Ç #${post.userId}` },
            '.review-card__date': { textContent: `${daysAgo} –¥–Ω–µ–π –Ω–∞–∑–∞–¥` },
            '.review-card__title': { textContent: post.title.length > 50 ? post.title.substring(0, 50) + '...' : post.title },
            '.review-card__text': { textContent: post.body },
            '.review-card__category': { textContent: getCategoryLabel(category) },
            '.review-card__instrument': { textContent: instrument },
            '.like-count': { textContent: likes }
        };

        Object.entries(elements).forEach(([selector, data]) => {
            const element = reviewElement.querySelector(selector);
            if (element) {
                Object.entries(data).forEach(([key, value]) => {
                    element[key] = value;
                });
            }
        });

        const starsElement = reviewElement.querySelector('.rating-stars');
        if (starsElement) {
            starsElement.innerHTML = '‚òÖ'.repeat(rating) + '‚òÜ'.repeat(5 - rating);
        }

        const reviewCard = reviewElement.querySelector('.review-card');
        if (reviewCard) {
            reviewCard.dataset.category = category;
            reviewCard.dataset.rating = rating;
            reviewCard.dataset.date = daysAgo;
        }
    }

    function createMockUser(userId) {
        const names = ['–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤', '–ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞', '–ê–ª–µ–∫—Å–µ–π –ò–≤–∞–Ω–æ–≤', '–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –°–º–∏—Ä–Ω–æ–≤–∞', '–î–º–∏—Ç—Ä–∏–π –ö—É–∑–Ω–µ—Ü–æ–≤'];
        return {
            id: userId,
            name: names[userId % names.length],
            email: `user${userId}@example.com`
        };
    }

    function getCategoryLabel(category) {
        const labels = {
            'guitar': 'üé∏ –û –≥–∏—Ç–∞—Ä–∞—Ö',
            'service': 'üîß –û–± —É—Å–ª—É–≥–∞—Ö',
            'delivery': 'üöö –û –¥–æ—Å—Ç–∞–≤–∫–µ'
        };
        return labels[category] || category;
    }

    function getRandomFilterParams() {
        const filters = [
            `_limit=${Math.floor(Math.random() * 6) + 3}`,
            `_page=${Math.floor(Math.random() * 10) + 1}&_limit=4`,
            `userId=${Math.floor(Math.random() * 10) + 1}`,
            `_sort=title&_order=asc&_limit=5`,
            `_sort=id&_order=desc&_limit=6`
        ];
        return filters[Math.floor(Math.random() * filters.length)];
    }

    function filterReviews() {
        const selectedCategory = reviewFilter.value;
        const sortType = reviewSort.value;
        const reviewCards = Array.from(document.querySelectorAll('.review-card'));

        reviewCards.forEach(card => {
            if (selectedCategory === 'all' || card.dataset.category === selectedCategory) {
                card.style.display = 'block';
            } else {
                card.style.display = 'none';
            }
        });

        const visibleCards = reviewCards.filter(card => card.style.display !== 'none');
        if (visibleCards.length > 0) {
            if (sortType === 'newest') {
                visibleCards.sort((a, b) => a.dataset.date - b.dataset.date);
            } else if (sortType === 'oldest') {
                visibleCards.sort((a, b) => b.dataset.date - a.dataset.date);
            } else if (sortType === 'rating') {
                visibleCards.sort((a, b) => b.dataset.rating - a.dataset.rating);
            }

            visibleCards.forEach(card => {
                reviewsContainer.appendChild(card);
            });
        }
    }

    function addLikeHandlers() {
        document.querySelectorAll('.review-card__like-btn').forEach(button => {
            button.addEventListener('click', function() {
                const likeCount = this.querySelector('.like-count');
                let count = parseInt(likeCount.textContent);
                count++;
                likeCount.textContent = count;
                this.style.transform = 'scale(1.2)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                }, 300);
            });
        });
    }

    function handleError(error) {
        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–∑—ã–≤–æ–≤:', error);

        let title, text;
        if (error.message.includes('Failed to fetch') || error.message.includes('NetworkError')) {
            title = '–û—à–∏–±–∫–∞ —Å–µ—Ç–∏';
            text = '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É. –í–æ–∑–º–æ–∂–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç—Å—è VPN –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ API.';
        } else if (error.message.includes('–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞')) {
            title = '–û—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞';
            text = 'API –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.';
        } else {
            title = '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏';
            text = '–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ—Ç–∑—ã–≤—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.';
        }

        errorTitle.textContent = title;
        errorText.textContent = text;
        errorContainer.style.display = 'block';
    }

    function showPreloader() {
        const btnText = loadReviewsBtn.querySelector('.btn-text');
        const btnLoader = loadReviewsBtn.querySelector('.btn-loader');
        btnText.textContent = '–ó–∞–≥—Ä—É–∑–∫–∞...';
        btnLoader.style.display = 'inline-block';
        preloaderContainer.style.display = 'block';
        loadReviewsBtn.disabled = true;
    }

    function hidePreloader() {
        const btnText = loadReviewsBtn.querySelector('.btn-text');
        const btnLoader = loadReviewsBtn.querySelector('.btn-loader');
        btnText.textContent = '–û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–∑—ã–≤—ã';
        btnLoader.style.display = 'none';
        preloaderContainer.style.display = 'none';
        loadReviewsBtn.disabled = false;
    }

    function hideError() {
        errorContainer.style.display = 'none';
    }

    function clearReviews() {
        const noReviews = reviewsContainer.querySelector('.no-reviews');
        if (noReviews) {
            noReviews.style.display = 'none';
        }
    }
</script>

<style>
    .api-testimonials {
        padding: 4rem 0;
        background: #f8f9fa;
    }

    .api-testimonials .section-title {
        text-align: center;
        margin-bottom: 1rem;
    }

    .api-testimonials .section-subtitle {
        text-align: center;
        color: #666;
        margin-bottom: 2rem;
        font-size: 1.1rem;
    }

    .reviews-controls {
        display: flex;
        justify-content: center;
        gap: 1.5rem;
        margin-bottom: 2rem;
        flex-wrap: wrap;
        align-items: center;
    }

    .filter-controls {
        display: flex;
        gap: 1rem;
    }

    .filter-select {
        padding: 0.5rem 1rem;
        border-radius: 8px;
        border: 2px solid #e1e8ed;
        background: white;
        font-family: inherit;
        min-width: 150px;
        transition: border-color 0.3s ease;
    }

    .filter-select:focus {
        outline: none;
        border-color: var(--primary-color);
    }

    /* –ø—Ä–µ–ª–æ–∞–¥–µ—Ä */
    .preloader-container {
        text-align: center;
        padding: 3rem;
    }

    .preloader {
        display: inline-block;
        text-align: center;
    }

    .preloader__spinner {
        width: 50px;
        height: 50px;
        border: 5px solid rgba(0, 0, 0, 0.1);
        border-radius: 50%;
        border-top-color: var(--primary-color);
        animation: spin 1s ease-in-out infinite;
        margin: 0 auto 1rem;
    }

    @keyframes spin {
        to { transform: rotate(360deg); }
    }

    .preloader__text {
        color: #666;
        font-size: 1.1rem;
    }

    /* –æ—à–∏–±–∫–∞ */
    .error-container {
        text-align: center;
        padding: 3rem;
    }

    .error-message {
        background: white;
        padding: 2rem;
        border-radius: 12px;
        border: 2px solid #ff6b6b;
        max-width: 500px;
        margin: 0 auto;
    }

    .error-icon {
        font-size: 3rem;
        display: block;
        margin-bottom: 1rem;
    }

    .error-title {
        color: #e74c3c;
        margin-bottom: 0.5rem;
    }

    .error-text {
        color: #666;
        margin-bottom: 1.5rem;
    }

    /* –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
    .reviews-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 2rem;
        margin-top: 2rem;
    }

    .no-reviews {
        grid-column: 1 / -1;
        text-align: center;
        padding: 3rem;
        color: #999;
        font-style: italic;
    }

    /* –∫–∞—Ä—Ç–æ—á–∫–∞ */
    .review-card {
        background: white;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .review-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    .review-card__header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 1rem;
        padding-bottom: 1rem;
        border-bottom: 1px solid #eee;
    }

    .review-card__user {
        display: flex;
        align-items: center;
        gap: 1rem;
    }

    .review-card__avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        overflow: hidden;
    }

    .review-card__avatar-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .review-card__user-info {
        flex: 1;
    }

    .review-card__username {
        margin: 0;
        font-size: 1rem;
        color: #333;
    }

    .review-card__date {
        font-size: 0.8rem;
        color: #999;
    }

    .review-card__rating {
        text-align: right;
    }

    .rating-stars {
        color: #ffc107;
        font-size: 1.2rem;
        display: block;
        margin-bottom: 0.25rem;
    }

    .review-card__category {
        display: inline-block;
        background: var(--primary-color);
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 20px;
        font-size: 0.8rem;
    }

    .review-card__content {
        margin-bottom: 1.5rem;
    }

    .review-card__title {
        margin: 0 0 0.5rem;
        font-size: 1.1rem;
        color: #333;
    }

    .review-card__text {
        margin: 0;
        color: #666;
        line-height: 1.5;
        font-size: 0.95rem;
    }

    .review-card__footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding-top: 1rem;
        border-top: 1px solid #eee;
    }

    .review-card__instrument {
        font-size: 0.9rem;
        color: var(--primary-color);
        font-weight: 500;
    }

    .review-card__like-btn {
        background: none;
        border: none;
        cursor: pointer;
        font-size: 1.2rem;
        padding: 0.25rem 0.5rem;
        border-radius: 8px;
        transition: all 0.3s ease;
    }

    .review-card__like-btn:hover {
        background: rgba(255, 192, 203, 0.1);
    }

    .like-count {
        font-size: 0.9rem;
        margin-left: 0.25rem;
        color: #666;
    }

    @media (max-width: 768px) {
        .reviews-controls {
            flex-direction: column;
            align-items: stretch;
        }

        .filter-controls {
            flex-direction: column;
        }

        .filter-select {
            width: 100%;
        }

        .reviews-container {
            grid-template-columns: 1fr;
        }
    }
</style>
</body>
</html>